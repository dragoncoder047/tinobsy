[tinobsy_test.cpp:184-main] Begin Tinobsy test suite
[tinobsy_test.cpp:185-main] sizeof(object) = 28, sizeof(thread) = 32, sizeof(vm) = 20
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nil
[tinobsy.cpp:72-allocate] need new memory

-------------------------------------------------------------

[tinobsy_test.cpp:24-test_threads_stack] test threads stack
[tinobsy.cpp:254-push_thread] vm::push_thread(), next vpid is 0
[tinobsy.cpp:254-push_thread] vm::push_thread(), next vpid is 1
[tinobsy.cpp:254-push_thread] vm::push_thread(), next vpid is 2
[tinobsy.cpp:43-~thread] thread::~thread() no. 1 {
[tinobsy.cpp:56-~thread] }
[tinobsy.cpp:43-~thread] thread::~thread() no. 2 {
[tinobsy.cpp:56-~thread] }
[tinobsy.cpp:43-~thread] thread::~thread() no. 0 {
[tinobsy.cpp:56-~thread] }
[tinobsy_test.cpp:31-test_threads_stack] Assertion succeeded: VM->threads == NULL

-------------------------------------------------------------

[tinobsy_test.cpp:35-test_sweep] test mark-sweep collector: objects are swept when not put into a thread
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:44-test_sweep] Begin sweep of everything
[tinobsy.cpp:159-gc] vm::gc() begin, 8 objects {
[tinobsy.cpp:153-mark_globals] marking globals
[tinobsy.cpp:144-mark] object::mark() a nil
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:167-gc] garbage collect sweeping
[tinobsy.cpp:31-~object] object::~object() for a nothing begin {
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a nothing begin {
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a nothing begin {
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a nothing begin {
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a nothing begin {
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a nothing begin {
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a nothing begin {
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:212-gc] vm::gc() end, 1 objects, 7 freed, 7 dangling pointers }
[tinobsy_test.cpp:46-test_sweep] Assertion succeeded: VM->num_objects == oldobj

-------------------------------------------------------------

[tinobsy_test.cpp:61-test_mark_no_sweep] test mark-sweep collector: objects aren't swept when owned by a thread and threads are freed properly
[tinobsy.cpp:254-push_thread] vm::push_thread(), next vpid is 0
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:72-allocate] need new memory
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nothing, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 1 refs
[tinobsy.cpp:159-gc] vm::gc() begin, 21 objects {
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:144-mark] object::mark() a cons
[tinobsy.cpp:270-mark_cons] {
[tinobsy.cpp:144-mark] object::mark() a nothing
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:273-mark_cons] }
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:153-mark_globals] marking globals
[tinobsy.cpp:144-mark] object::mark() a nil
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:167-gc] garbage collect sweeping
[tinobsy.cpp:212-gc] vm::gc() end, 21 objects, 0 freed, 0 dangling pointers }
[tinobsy_test.cpp:70-test_mark_no_sweep] Assertion succeeded: VM->num_objects == oldobj
[tinobsy.cpp:43-~thread] thread::~thread() no. 0 {
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:56-~thread] }

-------------------------------------------------------------

[tinobsy_test.cpp:75-test_reuse_garbage] test refcount collector: can reuse garbage
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a nothing
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:108-decref] object::decref() on a nothing, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nothing {
[tinobsy.cpp:99-finalize] }
[tinobsy_test.cpp:81-test_reuse_garbage] Assertion succeeded: VM->num_objects - origobj < times

-------------------------------------------------------------

[tinobsy_test.cpp:85-test_refcounting] test refcount collector: refs are counted properly
[tinobsy.cpp:254-push_thread] vm::push_thread(), next vpid is 0
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 3 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 4 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 5 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 6 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 7 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 8 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 9 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 10 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:51-cons] Assertion succeeded: x != NULL || y != NULL
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a nil, now have 11 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 1 refs
[tinobsy_test.cpp:91-test_refcounting] Assertion succeeded: VM->nil->refcount - oldrefs == times
[tinobsy.cpp:43-~thread] thread::~thread() no. 0 {
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 10 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 9 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 8 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 7 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 6 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 5 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 4 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 3 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 1 refs
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:56-~thread] }
[tinobsy.cpp:159-gc] vm::gc() begin, 21 objects {
[tinobsy.cpp:153-mark_globals] marking globals
[tinobsy.cpp:144-mark] object::mark() a nil
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:167-gc] garbage collect sweeping
[tinobsy.cpp:212-gc] vm::gc() end, 1 objects, 20 freed, 0 dangling pointers }

-------------------------------------------------------------

[tinobsy_test.cpp:101-test_freeing_things] Test owned pointers are freed
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is aqalcq
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is qcohoj
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is slnasl
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is lhrcfi
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is ytnzmn
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is ejaqtj
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is ikaauc
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is fpbzss
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is kbiela
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:302-cmp_str] 
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy_test.cpp:106-test_freeing_things] Random atom is vvxlcm
[tinobsy.cpp:159-gc] vm::gc() begin, 11 objects {
[tinobsy.cpp:153-mark_globals] marking globals
[tinobsy.cpp:144-mark] object::mark() a nil
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:167-gc] garbage collect sweeping
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:31-~object] object::~object() for a atom begin {
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:212-gc] vm::gc() end, 1 objects, 10 freed, 10 dangling pointers }
[tinobsy_test.cpp:109-test_freeing_things] Check Valgrind output to make sure stuff was freed

-------------------------------------------------------------

[tinobsy_test.cpp:113-test_reference_cycle] Test unreachable reference cycle gets collected
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a cons
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 2 refs
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a cons, now have 3 refs
[tinobsy.cpp:108-decref] object::decref() on a cons, now have 2 refs
[tinobsy_test.cpp:119-test_reference_cycle] Assertion succeeded: a->schema != NULL
[tinobsy_test.cpp:120-test_reference_cycle] Assertion succeeded: a->refcount > 0
[tinobsy.cpp:159-gc] vm::gc() begin, 2 objects {
[tinobsy.cpp:153-mark_globals] marking globals
[tinobsy.cpp:144-mark] object::mark() a nil
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:167-gc] garbage collect sweeping
[tinobsy.cpp:179-gc] Assertion succeeded: !p->tst_flag(GC_MARKED)
[tinobsy.cpp:184-gc] Assertion succeeded: !p->tst_flag(GC_MARKED)
[tinobsy.cpp:197-gc] Cyclic garbage detected
[tinobsy.cpp:31-~object] object::~object() for a cons begin {
[tinobsy.cpp:96-finalize] object::finalize() for a cons {
[tinobsy.cpp:277-finalize_cons] {
[tinobsy.cpp:280-finalize_cons] }
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:212-gc] vm::gc() end, 1 objects, 1 freed, 0 dangling pointers }
[tinobsy_test.cpp:122-test_reference_cycle] Assertion succeeded: VM->num_objects == oldobj

-------------------------------------------------------------

[tinobsy_test.cpp:126-test_setjmp] Test try-catch setjmp with error object
[tinobsy.cpp:254-push_thread] vm::push_thread(), next vpid is 0
[tinobsy_test.cpp:128-test_setjmp] enter TRYCATCH macro
[tinobsy_test.cpp:128-test_setjmp] begin try block
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a atom
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:284-init_str] 
[tinobsy.cpp:76-allocate] Trying to intern a atom
[tinobsy.cpp:85-allocate] New atom not interned
[tinobsy.cpp:261-raise] thread::raise() on thread 0
[tinobsy.cpp:262-raise] Assertion succeeded: this->trycatch != NULL
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a atom, now have 2 refs
[tinobsy.cpp:108-decref] object::decref() on a atom, now have 1 refs
[tinobsy_test.cpp:128-test_setjmp] an error was thrown, code is 1
[tinobsy_test.cpp:133-test_setjmp] Assertion succeeded: t->error != NULL && !strcmp(t->error->car_str, "foobar")
[tinobsy.cpp:43-~thread] thread::~thread() no. 0 {
[tinobsy.cpp:108-decref] object::decref() on a atom, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a atom {
[tinobsy.cpp:290-finalize_str] 
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:56-~thread] }

-------------------------------------------------------------

[tinobsy_test.cpp:139-test_catch_code] Test try-catch setjmp wth custom error code
[tinobsy.cpp:254-push_thread] vm::push_thread(), next vpid is 0
[tinobsy_test.cpp:141-test_catch_code] enter TRYCATCH macro
[tinobsy_test.cpp:141-test_catch_code] begin try block
[tinobsy.cpp:261-raise] thread::raise() on thread 0
[tinobsy.cpp:262-raise] Assertion succeeded: this->trycatch != NULL
[tinobsy_test.cpp:141-test_catch_code] an error was thrown, code is 22
[tinobsy_test.cpp:145-test_catch_code] Assertion succeeded: sig == 22
[tinobsy.cpp:43-~thread] thread::~thread() no. 0 {
[tinobsy.cpp:56-~thread] }

-------------------------------------------------------------

[tinobsy_test.cpp:156-test_interning] Test primitives are interned
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:65-allocate] reusing garbage
[tinobsy_test.cpp:159-test_interning] Assertion succeeded: a->as_integer == 47
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 2 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 3 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 4 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 5 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 6 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 7 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 8 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 9 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 10 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:60-allocate] Assertion succeeded: schema != NULL
[tinobsy.cpp:61-allocate] vm::allocate() a int
[tinobsy.cpp:72-allocate] need new memory
[tinobsy.cpp:76-allocate] Trying to intern a int
[tinobsy.cpp:295-obj_memcmp] 
[tinobsy.cpp:79-allocate] Interned! int
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:115-incref] Assertion succeeded: this->schema != NULL
[tinobsy.cpp:117-incref] object::incref() on a int, now have 11 refs
[tinobsy_test.cpp:162-test_interning] Assertion succeeded: a == b
[tinobsy.cpp:108-decref] object::decref() on a int, now have 10 refs

-------------------------------------------------------------

[tinobsy_test.cpp:192-main] end of tests
[tinobsy.cpp:224-~vm] vm::~vm()
[tinobsy.cpp:234-~vm] freed 0 threads
[tinobsy.cpp:108-decref] object::decref() on a nil, now have 0 refs
[tinobsy.cpp:96-finalize] object::finalize() for a nil {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:159-gc] vm::gc() begin, 2 objects {
[tinobsy.cpp:153-mark_globals] marking globals
[tinobsy.cpp:137-mark] NULL::mark()
[tinobsy.cpp:167-gc] garbage collect sweeping
[tinobsy.cpp:31-~object] object::~object() for a int begin {
[tinobsy.cpp:96-finalize] object::finalize() for a int {
[tinobsy.cpp:99-finalize] }
[tinobsy.cpp:33-~object] }
[tinobsy.cpp:212-gc] vm::gc() end, 0 objects, 2 freed, 10 dangling pointers }
[tinobsy.cpp:237-~vm] Assertion succeeded: this->num_objects == 0
